import{c as x,r as n,j as e,b as v,A as b}from"./index-WQXFQPYK.js";import{A as f}from"./activity-B2kUoEvp.js";import{R as w,B as g,X as E,Y as T,T as P,a as y,C as k}from"./BarChart-DL7tZb7a.js";import{E as L}from"./external-link-BNnUiMyH.js";const S=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],h=x("triangle-alert",S);const A=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],z=x("zap",A),I={Critical:"#ef4444",High:"#f97316",Medium:"#eab308",Low:"#3b82f6"},B=()=>{const[r,l]=n.useState([]),[m,C]=n.useState([]),[p,u]=n.useState(!0);n.useEffect(()=>{(async()=>{try{const[t,D]=await Promise.all([fetch(`${b}/api/news`),fetch(`${b}/api/news/stats`)]),j=await t.json(),V=await D.json();l(j),C(V),u(!1)}catch(t){console.error("Error fetching data:",t),u(!1)}})()},[]);const i=r.filter(s=>s.severity==="Critical"),a=r.filter(s=>s.severity==="High"),d=i.length*3+a.length*1;let o="LOW",c="text-blue-500 border-blue-500/30 bg-blue-500/10";return d>5&&(o="ELEVATED",c="text-yellow-500 border-yellow-500/30 bg-yellow-500/10"),d>10&&(o="HIGH",c="text-orange-500 border-orange-500/30 bg-orange-500/10"),d>20&&(o="CRITICAL",c="text-red-500 border-red-500/30 bg-red-500/10"),p?e.jsxDEV("div",{className:"text-slate-500 text-center py-20",children:"Loading Intelligence..."},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:66,columnNumber:25},void 0):e.jsxDEV("div",{className:"h-full flex flex-col gap-4",children:[e.jsxDEV("div",{className:"flex-none grid grid-cols-1 md:grid-cols-3 gap-4 h-48 md:h-56",children:[e.jsxDEV("div",{className:"md:col-span-1 bg-slate-900 border border-slate-800 rounded-xl p-4 flex flex-col justify-center items-center relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 p-2 opacity-10",children:e.jsxDEV(f,{className:"w-24 h-24"},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:77,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:76,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Current Threat Level"},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:79,columnNumber:21},void 0),e.jsxDEV("div",{className:`text-3xl md:text-4xl font-black px-6 py-2 rounded-lg border-2 ${c} shadow-lg shadow-current/20 animate-pulse`,children:o},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:80,columnNumber:21},void 0),e.jsxDEV("div",{className:"mt-4 flex gap-4 text-xs text-slate-400",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(z,{className:"w-3 h-3 text-red-500"},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:84,columnNumber:66},void 0)," ",i.length," Critical"]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:84,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(h,{className:"w-3 h-3 text-orange-500"},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:85,columnNumber:66},void 0)," ",a.length," High"]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:85,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:83,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:75,columnNumber:17},void 0),e.jsxDEV("div",{className:"md:col-span-2 bg-slate-900 border border-slate-800 rounded-xl p-4 flex flex-col",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-slate-100 mb-2 flex items-center gap-2",children:[e.jsxDEV(f,{className:"w-4 h-4 text-cyan-500"},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:92,columnNumber:25},void 0),"Live Severity Distribution"]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:91,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0",children:e.jsxDEV(w,{width:"100%",height:"100%",children:e.jsxDEV(g,{data:m,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[e.jsxDEV(E,{type:"number",stroke:"#475569",fontSize:10,hide:!0},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:98,columnNumber:33},void 0),e.jsxDEV(T,{dataKey:"name",type:"category",stroke:"#94a3b8",fontSize:11,width:60,tickLine:!1,axisLine:!1},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:99,columnNumber:33},void 0),e.jsxDEV(P,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#f1f5f9"},cursor:{fill:"#334155",opacity:.4}},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:100,columnNumber:33},void 0),e.jsxDEV(y,{dataKey:"count",radius:[0,4,4,0],barSize:20,children:m.map((s,t)=>e.jsxDEV(k,{fill:I[s.name]||"#94a3b8"},`cell-${t}`,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:106,columnNumber:41},void 0))},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:104,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:97,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:96,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:95,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:90,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:72,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"flex flex-col bg-red-950/10 border border-red-900/30 rounded-xl overflow-hidden",children:[e.jsxDEV("div",{className:"p-3 bg-red-950/20 border-b border-red-900/30 flex items-center gap-2 sticky top-0 backdrop-blur z-10",children:[e.jsxDEV(v,{className:"w-5 h-5 text-red-500 animate-pulse"},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:121,columnNumber:25},void 0),e.jsxDEV("h3",{className:"font-bold text-red-400 uppercase tracking-wide text-sm",children:"Critical Priority"},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:122,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:120,columnNumber:21},void 0),e.jsxDEV("div",{className:"overflow-y-auto p-3 space-y-2 flex-1 custom-scrollbar",children:i.length===0?e.jsxDEV("div",{className:"text-center text-slate-500 py-10 text-sm",children:"No Critical Threats Detected"},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:126,columnNumber:29},void 0):i.map((s,t)=>e.jsxDEV(N,{item:s,colorClass:"bg-red-500/10 border-red-500/20 text-red-400"},t,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:129,columnNumber:33},void 0))},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:124,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:119,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex flex-col bg-orange-950/10 border border-orange-900/30 rounded-xl overflow-hidden",children:[e.jsxDEV("div",{className:"p-3 bg-orange-950/20 border-b border-orange-900/30 flex items-center gap-2 sticky top-0 backdrop-blur z-10",children:[e.jsxDEV(h,{className:"w-5 h-5 text-orange-500"},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:138,columnNumber:25},void 0),e.jsxDEV("h3",{className:"font-bold text-orange-400 uppercase tracking-wide text-sm",children:"High Priority"},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:139,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:137,columnNumber:21},void 0),e.jsxDEV("div",{className:"overflow-y-auto p-3 space-y-2 flex-1 custom-scrollbar",children:a.length===0?e.jsxDEV("div",{className:"text-center text-slate-500 py-10 text-sm",children:"No High Priority Threats Detected"},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:143,columnNumber:29},void 0):a.map((s,t)=>e.jsxDEV(N,{item:s,colorClass:"bg-orange-500/10 border-orange-500/20 text-orange-400"},t,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:146,columnNumber:33},void 0))},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:141,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:136,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:116,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:69,columnNumber:9},void 0)},N=({item:r,colorClass:l})=>e.jsxDEV("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"block bg-slate-900/40 border border-slate-800 p-3 rounded-lg hover:bg-slate-800 transition-colors group",children:[e.jsxDEV("div",{className:"flex justify-between items-start gap-3",children:[e.jsxDEV("h4",{className:"text-sm font-medium text-slate-200 group-hover:text-cyan-400 leading-snug",children:r.title},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:162,columnNumber:13},void 0),e.jsxDEV(L,{className:"w-3 h-3 text-slate-600 group-hover:text-cyan-400 opacity-0 group-hover:opacity-100 transition-opacity flex-none mt-1"},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:163,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:161,columnNumber:9},void 0),r.contentSnippet&&e.jsxDEV("p",{className:"text-xs text-slate-400 mt-2 line-clamp-2 leading-relaxed opacity-90",children:r.contentSnippet},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:167,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center justify-between mt-3 text-[10px] text-slate-500",children:[e.jsxDEV("span",{children:[r.source," â€¢ ",new Date(r.pubDate).toLocaleTimeString()]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:171,columnNumber:13},void 0),e.jsxDEV("span",{className:`px-1.5 py-0.5 rounded uppercase font-bold text-[9px] ${l}`,children:r.severity},void 0,!1,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:172,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:170,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Project/CC/soc ui/src/components/dashboard/CriticalThreatsView.tsx",lineNumber:159,columnNumber:5},void 0);export{B as default};
